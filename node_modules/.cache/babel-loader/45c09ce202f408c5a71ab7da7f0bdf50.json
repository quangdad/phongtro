{"ast":null,"code":"var _jsxFileName = \"F:\\\\PHONGTRO2\\\\PHONGTRO\\\\client\\\\src\\\\components\\\\Comment.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useState, useCallback } from 'react';\nimport moment from 'moment';\nimport icons from '../ultils/icons';\nimport { InputComment } from './';\nimport { apiCreateComment } from '../services/post';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  AiOutlineHistory,\n  FaComments\n} = icons;\n\nconst Comment = _ref => {\n  _s();\n\n  let {\n    commentator,\n    createdAt,\n    content,\n    cid,\n    pid,\n    setRender,\n    parents\n  } = _ref;\n  const [isRep, setIsRep] = useState(false);\n  const [replyContent, setReplyContent] = useState('');\n  const handleSendReply = useCallback(async () => {\n    const response = await apiCreateComment({\n      content: replyContent,\n      parentComment: cid,\n      pid\n    });\n\n    if (response.data.success) {\n      setRender(prev => !prev);\n      setReplyContent('');\n      setIsRep(false);\n    }\n  }, [replyContent]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: commentator === null || commentator === void 0 ? void 0 : commentator.avatar,\n          alt: \"avatar\",\n          className: \"w-[25px] h-[25px] object-cover rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold\",\n          children: commentator === null || commentator === void 0 ? void 0 : commentator.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"italic flex gap-1 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(AiOutlineHistory, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: moment(createdAt).fromNow()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 rounded-md bg-gray-100 border ml-[28px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setIsRep(true),\n        className: \"flex gap-2 items-center hover:underline cursor-pointer justify-end mt-4 text-sm text-main\",\n        children: [/*#__PURE__*/_jsxDEV(FaComments, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Ph\\u1EA3n h\\u1ED3i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-[28px]\",\n      children: parents && (parents === null || parents === void 0 ? void 0 : parents.map(item => /*#__PURE__*/_jsxDEV(Comment, {\n        commentator: item === null || item === void 0 ? void 0 : item.commentator,\n        content: item === null || item === void 0 ? void 0 : item.content,\n        createdAt: item === null || item === void 0 ? void 0 : item.createdAt,\n        cid: cid,\n        pid: pid,\n        setRender: setRender\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), isRep && /*#__PURE__*/_jsxDEV(InputComment, {\n      rep: true,\n      content: replyContent,\n      setContent: setReplyContent,\n      handleSendComment: handleSendReply\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Comment, \"hg3Lzyi7lXDlbhav+nthywacArM=\");\n\n_c = Comment;\nexport default _c2 = /*#__PURE__*/memo(Comment);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Comment\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","memo","useState","useCallback","moment","icons","InputComment","apiCreateComment","AiOutlineHistory","FaComments","Comment","commentator","createdAt","content","cid","pid","setRender","parents","isRep","setIsRep","replyContent","setReplyContent","handleSendReply","response","parentComment","data","success","prev","avatar","name","fromNow","map","item","id"],"sources":["F:/PHONGTRO2/PHONGTRO/client/src/components/Comment.js"],"sourcesContent":["import React, { memo, useState, useCallback } from 'react'\r\nimport moment from 'moment'\r\nimport icons from '../ultils/icons'\r\nimport { InputComment } from './'\r\nimport { apiCreateComment } from '../services/post'\r\n\r\nconst { AiOutlineHistory, FaComments } = icons\r\nconst Comment = ({ commentator, createdAt, content, cid, pid, setRender, parents }) => {\r\n    const [isRep, setIsRep] = useState(false)\r\n    const [replyContent, setReplyContent] = useState('')\r\n\r\n    const handleSendReply = useCallback(async () => {\r\n        const response = await apiCreateComment({ content: replyContent, parentComment: cid, pid })\r\n        if (response.data.success) {\r\n            setRender(prev => !prev)\r\n            setReplyContent('')\r\n            setIsRep(false)\r\n        }\r\n    }, [replyContent])\r\n    return (\r\n        <div className='flex flex-col gap-3'>\r\n            <div className='flex items-center justify-between'>\r\n                <div className='flex items-center justify-between gap-2'>\r\n                    <img\r\n                        src={commentator?.avatar}\r\n                        alt=\"avatar\"\r\n                        className='w-[25px] h-[25px] object-cover rounded-md'\r\n                    />\r\n                    <span className='font-semibold'>{commentator?.name}</span>\r\n                </div>\r\n                <span className='italic flex gap-1 items-center'>\r\n                    <AiOutlineHistory />\r\n                    <span>{moment(createdAt).fromNow()}</span>\r\n                </span>\r\n            </div>\r\n            <div className='p-4 rounded-md bg-gray-100 border ml-[28px]'>\r\n                <span>{content}</span>\r\n                <div\r\n                    onClick={() => setIsRep(true)}\r\n                    className='flex gap-2 items-center hover:underline cursor-pointer justify-end mt-4 text-sm text-main'>\r\n                    <FaComments />\r\n                    <span>Phản hồi</span>\r\n                </div>\r\n            </div>\r\n            <div className='ml-[28px]'>\r\n                {parents && parents?.map(item => (\r\n                    <Comment\r\n                        key={item.id}\r\n                        commentator={item?.commentator}\r\n                        content={item?.content}\r\n                        createdAt={item?.createdAt}\r\n                        cid={cid}\r\n                        pid={pid}\r\n                        setRender={setRender}\r\n                    />\r\n                ))}\r\n            </div>\r\n            {isRep && <InputComment\r\n                rep\r\n                content={replyContent}\r\n                setContent={setReplyContent}\r\n                handleSendComment={handleSendReply}\r\n            />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Comment)"],"mappings":"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"},"metadata":{},"sourceType":"module"}
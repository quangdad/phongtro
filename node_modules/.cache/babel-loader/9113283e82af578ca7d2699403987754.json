{"ast":null,"code":"var _jsxFileName = \"F:\\\\PHONGTRO2\\\\PHONGTRO\\\\client\\\\src\\\\components\\\\QuestionAndAnswer.js\",\n    _s = $RefreshSig$();\n\nimport { memo, useState, useCallback } from 'react';\nimport { apiCreateComment } from '../services/post';\nimport { InputComment, Comment } from './';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst QuestionAndAnswer = _ref => {\n  _s();\n\n  var _comments$filter;\n\n  let {\n    comments,\n    pid,\n    setRender\n  } = _ref;\n  const [content, setContent] = useState('');\n  const [seeMore, setSeeMore] = useState(false);\n  const handleSendComment = useCallback(async () => {\n    const response = await apiCreateComment({\n      pid,\n      content\n    });\n\n    if (response.data.success) {\n      setRender(prev => !prev);\n      setContent('');\n    }\n  }, [content]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shadow-md border rounded-md bg-white p-[10px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mt-4 flex flex-col gap-8 pb-8 ${!seeMore && (comments === null || comments === void 0 ? void 0 : comments.length) > 2 ? 'h-[300px] overflow-hidden' : ''}`,\n      children: comments && (comments === null || comments === void 0 ? void 0 : (_comments$filter = comments.filter(item => !item.parentComment === true)) === null || _comments$filter === void 0 ? void 0 : _comments$filter.map(item => /*#__PURE__*/_jsxDEV(Comment, {\n        commentator: item === null || item === void 0 ? void 0 : item.commentator,\n        content: item === null || item === void 0 ? void 0 : item.content,\n        createdAt: item === null || item === void 0 ? void 0 : item.createdAt,\n        cid: item === null || item === void 0 ? void 0 : item.id,\n        pid: pid,\n        setRender: setRender,\n        parents: comments === null || comments === void 0 ? void 0 : comments.filter(i => i.parentComment === item.id)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this)))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), comments && (comments === null || comments === void 0 ? void 0 : comments.length) > 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center\",\n      children: seeMore ? /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"py-2 px-4 text-blue-500 my-4 hover:underline\",\n        onClick: () => setSeeMore(false),\n        children: \"\\u1EA8n b\\u1EDBt b\\xECnh lu\\u1EADn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"py-2 px-4 text-blue-500 my-4 hover:underline\",\n        onClick: () => setSeeMore(true),\n        children: \"Xem th\\xEAm b\\xECnh lu\\u1EADn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 50\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 9\n  }, this);\n};\n\n_s(QuestionAndAnswer, \"qTOz+YLV1mA/JWpgw4yW+dvZrg4=\");\n\n_c = QuestionAndAnswer;\nexport default _c2 = /*#__PURE__*/memo(QuestionAndAnswer);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"QuestionAndAnswer\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["memo","useState","useCallback","apiCreateComment","InputComment","Comment","QuestionAndAnswer","comments","pid","setRender","content","setContent","seeMore","setSeeMore","handleSendComment","response","data","success","prev","length","filter","item","parentComment","map","commentator","createdAt","id","i"],"sources":["F:/PHONGTRO2/PHONGTRO/client/src/components/QuestionAndAnswer.js"],"sourcesContent":["import { memo, useState, useCallback } from 'react'\r\nimport { apiCreateComment } from '../services/post'\r\nimport { InputComment, Comment } from './'\r\n\r\n\r\nconst QuestionAndAnswer = ({ comments, pid, setRender }) => {\r\n    const [content, setContent] = useState('')\r\n    const [seeMore, setSeeMore] = useState(false)\r\n    const handleSendComment = useCallback(async () => {\r\n        const response = await apiCreateComment({ pid, content })\r\n        if (response.data.success) {\r\n            setRender(prev => !prev)\r\n            setContent('')\r\n        }\r\n\r\n    }, [content])\r\n    return (\r\n        <div className='shadow-md border rounded-md bg-white p-[10px]'>\r\n            {/* <h3 className='font-bold text-[20px]'>Hỏi & đáp</h3>\r\n            <InputComment\r\n                content={content}\r\n                setContent={setContent}\r\n                handleSendComment={handleSendComment}\r\n            /> */}\r\n            <div className={`mt-4 flex flex-col gap-8 pb-8 ${!seeMore && comments?.length > 2 ? 'h-[300px] overflow-hidden' : ''}`}>\r\n                {comments && comments?.filter(item => !item.parentComment === true)?.map(item => (\r\n                    <Comment\r\n                        key={item.id}\r\n                        commentator={item?.commentator}\r\n                        content={item?.content}\r\n                        createdAt={item?.createdAt}\r\n                        cid={item?.id}\r\n                        pid={pid}\r\n                        setRender={setRender}\r\n                        parents={comments?.filter(i => i.parentComment === item.id)}\r\n                    />\r\n                ))}\r\n            </div>\r\n            {comments && comments?.length > 2 && <div className='flex items-center justify-center'>\r\n                {(seeMore) ? <button\r\n                    type='button'\r\n                    className='py-2 px-4 text-blue-500 my-4 hover:underline'\r\n                    onClick={() => setSeeMore(false)}\r\n                >\r\n                    Ẩn bớt bình luận\r\n                </button> : <button\r\n                    type='button'\r\n                    className='py-2 px-4 text-blue-500 my-4 hover:underline'\r\n                    onClick={() => setSeeMore(true)}\r\n                >\r\n                    Xem thêm bình luận\r\n                </button>}\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(QuestionAndAnswer)"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,QAAf,EAAyBC,WAAzB,QAA4C,OAA5C;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,SAASC,YAAT,EAAuBC,OAAvB,QAAsC,IAAtC;;;AAGA,MAAMC,iBAAiB,GAAG,QAAkC;EAAA;;EAAA;;EAAA,IAAjC;IAAEC,QAAF;IAAYC,GAAZ;IAAiBC;EAAjB,CAAiC;EACxD,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAMa,iBAAiB,GAAGZ,WAAW,CAAC,YAAY;IAC9C,MAAMa,QAAQ,GAAG,MAAMZ,gBAAgB,CAAC;MAAEK,GAAF;MAAOE;IAAP,CAAD,CAAvC;;IACA,IAAIK,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;MACvBR,SAAS,CAACS,IAAI,IAAI,CAACA,IAAV,CAAT;MACAP,UAAU,CAAC,EAAD,CAAV;IACH;EAEJ,CAPoC,EAOlC,CAACD,OAAD,CAPkC,CAArC;EAQA,oBACI;IAAK,SAAS,EAAC,+CAAf;IAAA,wBAOI;MAAK,SAAS,EAAG,iCAAgC,CAACE,OAAD,IAAY,CAAAL,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEY,MAAV,IAAmB,CAA/B,GAAmC,2BAAnC,GAAiE,EAAG,EAArH;MAAA,UACKZ,QAAQ,KAAIA,QAAJ,aAAIA,QAAJ,2CAAIA,QAAQ,CAAEa,MAAV,CAAiBC,IAAI,IAAI,CAACA,IAAI,CAACC,aAAN,KAAwB,IAAjD,CAAJ,qDAAI,iBAAwDC,GAAxD,CAA4DF,IAAI,iBACzE,QAAC,OAAD;QAEI,WAAW,EAAEA,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEG,WAFvB;QAGI,OAAO,EAAEH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEX,OAHnB;QAII,SAAS,EAAEW,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEI,SAJrB;QAKI,GAAG,EAAEJ,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEK,EALf;QAMI,GAAG,EAAElB,GANT;QAOI,SAAS,EAAEC,SAPf;QAQI,OAAO,EAAEF,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAEa,MAAV,CAAiBO,CAAC,IAAIA,CAAC,CAACL,aAAF,KAAoBD,IAAI,CAACK,EAA/C;MARb,GACSL,IAAI,CAACK,EADd;QAAA;QAAA;QAAA;MAAA,QADS,CAAJ;IADb;MAAA;MAAA;MAAA;IAAA,QAPJ,EAqBKnB,QAAQ,IAAI,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEY,MAAV,IAAmB,CAA/B,iBAAoC;MAAK,SAAS,EAAC,kCAAf;MAAA,UAC/BP,OAAD,gBAAY;QACT,IAAI,EAAC,QADI;QAET,SAAS,EAAC,8CAFD;QAGT,OAAO,EAAE,MAAMC,UAAU,CAAC,KAAD,CAHhB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAZ,gBAMW;QACR,IAAI,EAAC,QADG;QAER,SAAS,EAAC,8CAFF;QAGR,OAAO,EAAE,MAAMA,UAAU,CAAC,IAAD,CAHjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAPqB;MAAA;MAAA;MAAA;IAAA,QArBzC;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAuCH,CAlDD;;GAAMP,iB;;KAAAA,iB;AAoDN,kCAAeN,IAAI,CAACM,iBAAD,CAAnB"},"metadata":{},"sourceType":"module"}
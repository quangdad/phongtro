{"ast":null,"code":"var _jsxFileName = \"F:\\\\PHONGTRO2\\\\PHONGTRO\\\\client\\\\src\\\\components\\\\Address.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useEffect, useState } from 'react';\nimport { Select, InputReadOnly } from '../components';\nimport { apiGetPublicProvinces, apiGetPublicDistrict } from '../services';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Address = _ref => {\n  _s();\n\n  var _districts$find2, _provinces$find3;\n\n  let {\n    setPayload,\n    invalidFields,\n    setInvalidFields\n  } = _ref;\n  const {\n    dataEdit\n  } = useSelector(state => state.post);\n  const [provinces, setProvinces] = useState([]);\n  const [districts, setDistricts] = useState([]);\n  const [province, setProvince] = useState('');\n  const [district, setDistrict] = useState('');\n  const [reset, setReset] = useState(false);\n  useEffect(() => {\n    if (dataEdit) {\n      var _dataEdit$address;\n\n      let addressArr = dataEdit === null || dataEdit === void 0 ? void 0 : (_dataEdit$address = dataEdit.address) === null || _dataEdit$address === void 0 ? void 0 : _dataEdit$address.split(',');\n      let foundProvince = (provinces === null || provinces === void 0 ? void 0 : provinces.length) && (provinces === null || provinces === void 0 ? void 0 : provinces.find(item => {\n        var _addressArr;\n\n        return item.province_name === ((_addressArr = addressArr[(addressArr === null || addressArr === void 0 ? void 0 : addressArr.length) - 1]) === null || _addressArr === void 0 ? void 0 : _addressArr.trim());\n      }));\n      setProvince(foundProvince ? foundProvince.province_id : '');\n    }\n  }, [provinces, dataEdit]);\n  useEffect(() => {\n    if (dataEdit) {\n      var _dataEdit$address2;\n\n      let addressArr = dataEdit === null || dataEdit === void 0 ? void 0 : (_dataEdit$address2 = dataEdit.address) === null || _dataEdit$address2 === void 0 ? void 0 : _dataEdit$address2.split(',');\n      let foundDistrict = (districts === null || districts === void 0 ? void 0 : districts.length) > 0 && (districts === null || districts === void 0 ? void 0 : districts.find(item => {\n        var _addressArr2;\n\n        return item.district_name === ((_addressArr2 = addressArr[addressArr.length - 2]) === null || _addressArr2 === void 0 ? void 0 : _addressArr2.trim());\n      }));\n      setDistrict(foundDistrict ? foundDistrict.district_id : '');\n    }\n  }, [districts, dataEdit]);\n  useEffect(() => {\n    const fetchPublicProvince = async () => {\n      const response = await apiGetPublicProvinces();\n\n      if (response.status === 200) {\n        setProvinces(response === null || response === void 0 ? void 0 : response.data.results);\n      }\n    };\n\n    fetchPublicProvince();\n  }, []);\n  useEffect(() => {\n    setDistrict('');\n\n    const fetchPublicDistrict = async () => {\n      const response = await apiGetPublicDistrict(province);\n\n      if (response.status === 200) {\n        var _response$data;\n\n        setDistricts((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.results);\n      }\n    };\n\n    province && fetchPublicDistrict();\n    !province ? setReset(true) : setReset(false);\n    !province && setDistricts([]);\n  }, [province]);\n  useEffect(() => {\n    setPayload(prev => {\n      var _districts$find, _provinces$find, _provinces$find2;\n\n      return { ...prev,\n        address: `${district ? `${districts === null || districts === void 0 ? void 0 : (_districts$find = districts.find(item => item.district_id === district)) === null || _districts$find === void 0 ? void 0 : _districts$find.district_name}, ` : ''}${province ? provinces === null || provinces === void 0 ? void 0 : (_provinces$find = provinces.find(item => item.province_id === province)) === null || _provinces$find === void 0 ? void 0 : _provinces$find.province_name : ''}`,\n        province: province ? provinces === null || provinces === void 0 ? void 0 : (_provinces$find2 = provinces.find(item => item.province_id === province)) === null || _provinces$find2 === void 0 ? void 0 : _provinces$find2.province_name : ''\n      };\n    });\n  }, [province, district]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"font-semibold text-xl py-4\",\n      children: \"\\u0110\\u1ECBa ch\\u1EC9 cho thu\\xEA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          setInvalidFields: setInvalidFields,\n          invalidFields: invalidFields,\n          type: \"province\",\n          value: province,\n          setValue: setProvince,\n          options: provinces,\n          label: \"T\\u1EC9nh/Th\\xE0nh ph\\u1ED1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          setInvalidFields: setInvalidFields,\n          invalidFields: invalidFields,\n          reset: reset,\n          type: \"district\",\n          value: district,\n          setValue: setDistrict,\n          options: districts,\n          label: \"Qu\\u1EADn/Huy\\u1EC7n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputReadOnly, {\n        label: \"\\u0110\\u1ECBa ch\\u1EC9 ch\\xEDnh x\\xE1c\",\n        value: `${district ? `${districts === null || districts === void 0 ? void 0 : (_districts$find2 = districts.find(item => item.district_id === district)) === null || _districts$find2 === void 0 ? void 0 : _districts$find2.district_name},` : ''} ${province ? provinces === null || provinces === void 0 ? void 0 : (_provinces$find3 = provinces.find(item => item.province_id === province)) === null || _provinces$find3 === void 0 ? void 0 : _provinces$find3.province_name : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Address, \"1PDfMV2e7BSQKxik3ckMadte0/k=\", false, function () {\n  return [useSelector];\n});\n\n_c = Address;\nexport default _c2 = /*#__PURE__*/memo(Address);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Address\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","memo","useEffect","useState","Select","InputReadOnly","apiGetPublicProvinces","apiGetPublicDistrict","useSelector","Address","setPayload","invalidFields","setInvalidFields","dataEdit","state","post","provinces","setProvinces","districts","setDistricts","province","setProvince","district","setDistrict","reset","setReset","addressArr","address","split","foundProvince","length","find","item","province_name","trim","province_id","foundDistrict","district_name","district_id","fetchPublicProvince","response","status","data","results","fetchPublicDistrict","prev"],"sources":["F:/PHONGTRO2/PHONGTRO/client/src/components/Address.js"],"sourcesContent":["import React, { memo, useEffect, useState } from 'react'\r\nimport { Select, InputReadOnly } from '../components'\r\nimport { apiGetPublicProvinces, apiGetPublicDistrict } from '../services'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Address = ({ setPayload, invalidFields, setInvalidFields }) => {\r\n\r\n    const { dataEdit } = useSelector(state => state.post)\r\n    const [provinces, setProvinces] = useState([])\r\n    const [districts, setDistricts] = useState([])\r\n    const [province, setProvince] = useState('')\r\n    const [district, setDistrict] = useState('')\r\n    const [reset, setReset] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (dataEdit) {\r\n            let addressArr = dataEdit?.address?.split(',')\r\n            let foundProvince = provinces?.length && provinces?.find(item => item.province_name === addressArr[addressArr?.length - 1]?.trim())\r\n            setProvince(foundProvince ? foundProvince.province_id : '')\r\n        }\r\n    }, [provinces, dataEdit])\r\n\r\n    useEffect(() => {\r\n        if (dataEdit) {\r\n            let addressArr = dataEdit?.address?.split(',')\r\n            let foundDistrict = districts?.length > 0 && districts?.find(item => item.district_name === addressArr[addressArr.length - 2]?.trim())\r\n            setDistrict(foundDistrict ? foundDistrict.district_id : '')\r\n        }\r\n    }, [districts, dataEdit])\r\n\r\n    useEffect(() => {\r\n        const fetchPublicProvince = async () => {\r\n            const response = await apiGetPublicProvinces()\r\n            if (response.status === 200) {\r\n                setProvinces(response?.data.results)\r\n            }\r\n        }\r\n        fetchPublicProvince()\r\n    }, [])\r\n    useEffect(() => {\r\n        setDistrict('')\r\n        const fetchPublicDistrict = async () => {\r\n            const response = await apiGetPublicDistrict(province)\r\n            if (response.status === 200) {\r\n                setDistricts(response.data?.results)\r\n            }\r\n        }\r\n        province && fetchPublicDistrict()\r\n        !province ? setReset(true) : setReset(false)\r\n        !province && setDistricts([])\r\n    }, [province])\r\n    useEffect(() => {\r\n        setPayload(prev => ({\r\n            ...prev,\r\n            address: `${district ? `${districts?.find(item => item.district_id === district)?.district_name}, ` : ''}${province ? provinces?.find(item => item.province_id === province)?.province_name : ''}`,\r\n            province: province ? provinces?.find(item => item.province_id === province)?.province_name : ''\r\n        }))\r\n\r\n    }, [province, district])\r\n    return (\r\n        <div>\r\n            <h2 className='font-semibold text-xl py-4'>Địa chỉ cho thuê</h2>\r\n            <div className='flex flex-col gap-4'>\r\n                <div className='flex items-center gap-4'>\r\n                    <Select\r\n                        setInvalidFields={setInvalidFields}\r\n                        invalidFields={invalidFields}\r\n                        type='province'\r\n                        value={province}\r\n                        setValue={setProvince}\r\n                        options={provinces}\r\n                        label='Tỉnh/Thành phố'\r\n                    />\r\n                    <Select\r\n                        setInvalidFields={setInvalidFields}\r\n                        invalidFields={invalidFields}\r\n                        reset={reset}\r\n                        type='district'\r\n                        value={district}\r\n                        setValue={setDistrict}\r\n                        options={districts}\r\n                        label='Quận/Huyện' />\r\n                </div>\r\n                <InputReadOnly\r\n                    label='Địa chỉ chính xác'\r\n                    value={`${district ? `${districts?.find(item => item.district_id === district)?.district_name},` : ''} ${province ? provinces?.find(item => item.province_id === province)?.province_name : ''}`}\r\n                />\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Address)"],"mappings":"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"},"metadata":{},"sourceType":"module"}
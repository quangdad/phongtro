{"ast":null,"code":"var _jsxFileName = \"F:\\\\PHONGTRO2\\\\PHONGTRO\\\\client\\\\src\\\\containers\\\\Public\\\\List.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Item } from '../../components';\nimport { getPostsLimit } from '../../store/actions/post';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst List = _ref => {\n  _s();\n\n  let {\n    categoryCode\n  } = _ref;\n  const dispatch = useDispatch();\n  const [searchParams] = useSearchParams();\n  const {\n    posts\n  } = useSelector(state => state.post);\n  const {\n    currentData\n  } = useSelector(state => state.user);\n  const [sort, setSort] = useState(0);\n  const [update, setUpdate] = useState(false);\n  useEffect(() => {\n    let params = [];\n\n    for (let entry of searchParams.entries()) {\n      params.push(entry);\n    }\n\n    let searchParamsObject = {};\n    params === null || params === void 0 ? void 0 : params.forEach(i => {\n      var _Object$keys;\n\n      if ((_Object$keys = Object.keys(searchParamsObject)) !== null && _Object$keys !== void 0 && _Object$keys.some(item => item === i[0])) {\n        searchParamsObject[i[0]] = [...searchParamsObject[i[0]], i[1]];\n      } else {\n        searchParamsObject = { ...searchParamsObject,\n          [i[0]]: [i[1]]\n        };\n      }\n    });\n    if (categoryCode) searchParamsObject.categoryCode = categoryCode;\n    if (sort === 1) searchParamsObject.order = ['createdAt', 'DESC'];\n    if (sort === 0) searchParamsObject.order = ['title', 'DESC'];\n    dispatch(getPostsLimit(searchParamsObject));\n  }, [searchParams, categoryCode, sort, update]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full p-2 bg-white shadow-md rounded-md px-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between my-3\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-xl font-semibold\",\n        children: \"Danh s\\xE1ch tin \\u0111\\u0103ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 my-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"S\\u1EAFp x\\u1EBFp:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setSort(0),\n        className: `bg-[#febb02] p-2 rounded-md cursor-pointer hover:underline ${sort === 0 && 'text-red-500'}`,\n        children: \"M\\u1EB7c \\u0111\\u1ECBnh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setSort(1),\n        className: `bg-[#febb02] p-2 rounded-md cursor-pointer hover:underline ${sort === 1 && 'text-red-500'}`,\n        children: \"M\\u1EDBi nh\\u1EA5t\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"items\",\n      children: (posts === null || posts === void 0 ? void 0 : posts.length) > 0 && posts.map(item => {\n        var _item$images, _item$lovers;\n\n        return /*#__PURE__*/_jsxDEV(Item, {\n          address: item === null || item === void 0 ? void 0 : item.address,\n          attributes: item === null || item === void 0 ? void 0 : item.attributes,\n          description: JSON.parse(item === null || item === void 0 ? void 0 : item.description),\n          images: JSON.parse(item === null || item === void 0 ? void 0 : (_item$images = item.images) === null || _item$images === void 0 ? void 0 : _item$images.image),\n          star: +(item === null || item === void 0 ? void 0 : item.star),\n          title: item === null || item === void 0 ? void 0 : item.title,\n          user: item === null || item === void 0 ? void 0 : item.user,\n          id: item === null || item === void 0 ? void 0 : item.id,\n          islover: ((_item$lovers = item.lovers) === null || _item$lovers === void 0 ? void 0 : _item$lovers.uid) === (currentData === null || currentData === void 0 ? void 0 : currentData.id),\n          setUpdate: setUpdate\n        }, item === null || item === void 0 ? void 0 : item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(List, \"iORayyFccOvhUreo89RGmU04E7o=\", false, function () {\n  return [useDispatch, useSearchParams, useSelector, useSelector];\n});\n\n_c = List;\nexport default List;\n\nvar _c;\n\n$RefreshReg$(_c, \"List\");","map":{"version":3,"names":["React","useEffect","useState","Button","Item","getPostsLimit","useDispatch","useSelector","useSearchParams","List","categoryCode","dispatch","searchParams","posts","state","post","currentData","user","sort","setSort","update","setUpdate","params","entry","entries","push","searchParamsObject","forEach","i","Object","keys","some","item","order","length","map","address","attributes","JSON","parse","description","images","image","star","title","id","lovers","uid"],"sources":["F:/PHONGTRO2/PHONGTRO/client/src/containers/Public/List.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Button, Item } from '../../components'\r\nimport { getPostsLimit } from '../../store/actions/post'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useSearchParams } from 'react-router-dom'\r\n\r\nconst List = ({ categoryCode }) => {\r\n    const dispatch = useDispatch()\r\n    const [searchParams] = useSearchParams()\r\n    const { posts } = useSelector(state => state.post)\r\n    const { currentData } = useSelector(state => state.user)\r\n    const [sort, setSort] = useState(0)\r\n    const [update, setUpdate] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let params = []\r\n        for (let entry of searchParams.entries()) {\r\n            params.push(entry);\r\n        }\r\n        let searchParamsObject = {}\r\n        params?.forEach(i => {\r\n            if (Object.keys(searchParamsObject)?.some(item => item === i[0])) {\r\n                searchParamsObject[i[0]] = [...searchParamsObject[i[0]], i[1]]\r\n            } else {\r\n                searchParamsObject = { ...searchParamsObject, [i[0]]: [i[1]] }\r\n            }\r\n        })\r\n        if (categoryCode) searchParamsObject.categoryCode = categoryCode\r\n        if (sort === 1) searchParamsObject.order = ['createdAt', 'DESC']\r\n        if (sort === 0) searchParamsObject.order = ['title', 'DESC']\r\n        dispatch(getPostsLimit(searchParamsObject))\r\n    }, [searchParams, categoryCode, sort, update])\r\n\r\n    return (\r\n        <div className='w-full p-2 bg-white shadow-md rounded-md px-6'>\r\n            <div className='flex items-center justify-between my-3'>\r\n                <h4 className='text-xl font-semibold'>Danh sách tin đăng</h4>\r\n                {/* <span>Cập nhật: 12:05 25/08/2024</span> */}\r\n            </div>\r\n            <div className='flex items-center gap-2 my-2'>\r\n                <span>Sắp xếp:</span>\r\n                <span onClick={() => setSort(0)} className={`bg-[#febb02] p-2 rounded-md cursor-pointer hover:underline ${sort === 0 && 'text-red-500'}`}>Mặc định</span>\r\n                <span onClick={() => setSort(1)} className={`bg-[#febb02] p-2 rounded-md cursor-pointer hover:underline ${sort === 1 && 'text-red-500'}`}>Mới nhất</span>\r\n            </div>\r\n            <div className='items'>\r\n                {posts?.length > 0 && posts.map(item => {\r\n                    return (\r\n                        <Item\r\n                            key={item?.id}\r\n                            address={item?.address}\r\n                            attributes={item?.attributes}\r\n                            description={JSON.parse(item?.description)}\r\n                            images={JSON.parse(item?.images?.image)}\r\n                            star={+item?.star}\r\n                            title={item?.title}\r\n                            user={item?.user}\r\n                            id={item?.id}\r\n                            islover={item.lovers?.uid === currentData?.id}\r\n                            setUpdate={setUpdate}\r\n                        />\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default List"],"mappings":"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"},"metadata":{},"sourceType":"module"}
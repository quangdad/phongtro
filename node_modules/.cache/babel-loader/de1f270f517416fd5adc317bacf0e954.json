{"ast":null,"code":"import axios from \"axios\";\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_SERVER_URL\n}); // Add a request interceptor\n\ninstance.interceptors.request.use(function (config) {\n  var _JSON$parse, _JSON$parse$token;\n\n  // Do something before request is sent\n  // gắn token vào header\n  let token = window.localStorage.getItem('persist:auth') && ((_JSON$parse = JSON.parse(window.localStorage.getItem('persist:auth'))) === null || _JSON$parse === void 0 ? void 0 : (_JSON$parse$token = _JSON$parse.token) === null || _JSON$parse$token === void 0 ? void 0 : _JSON$parse$token.slice(1, -1));\n  config.headers = {\n    authorization: token ? `Bearer ${token}` : null\n  };\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n}); // Add a response interceptor\n\ninstance.interceptors.response.use(function (response) {\n  // refresh token\n  return response;\n}, function (error) {\n  return Promise.reject(error);\n});\nexport default instance;","map":{"version":3,"names":["axios","instance","create","baseURL","process","env","REACT_APP_SERVER_URL","interceptors","request","use","config","token","window","localStorage","getItem","JSON","parse","slice","headers","authorization","error","Promise","reject","response"],"sources":["F:/PHONGTRO2/PHONGTRO/client/src/axiosConfig.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_SERVER_URL\r\n})\r\n\r\n// Add a request interceptor\r\ninstance.interceptors.request.use(function (config) {\r\n    // Do something before request is sent\r\n    // gắn token vào header\r\n    let token = window.localStorage.getItem('persist:auth') && JSON.parse(window.localStorage.getItem('persist:auth'))?.token?.slice(1, -1)\r\n    config.headers = {\r\n        authorization: token ? `Bearer ${token}` : null\r\n    }\r\n    return config;\r\n}, function (error) {\r\n    return Promise.reject(error);\r\n});\r\n\r\n// Add a response interceptor\r\ninstance.interceptors.response.use(function (response) {\r\n    // refresh token\r\n    return response;\r\n}, function (error) {\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\nexport default instance"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;EAC1BC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADK,CAAb,CAAjB,C,CAIA;;AACAL,QAAQ,CAACM,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAAUC,MAAV,EAAkB;EAAA;;EAChD;EACA;EACA,IAAIC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,qBAA+CC,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAAX,CAA/C,qEAA+C,YAAyDH,KAAxG,sDAA+C,kBAAgEM,KAAhE,CAAsE,CAAtE,EAAyE,CAAC,CAA1E,CAA/C,CAAZ;EACAP,MAAM,CAACQ,OAAP,GAAiB;IACbC,aAAa,EAAER,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAuB;EAD9B,CAAjB;EAGA,OAAOD,MAAP;AACH,CARD,EAQG,UAAUU,KAAV,EAAiB;EAChB,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAVD,E,CAYA;;AACAnB,QAAQ,CAACM,YAAT,CAAsBgB,QAAtB,CAA+Bd,GAA/B,CAAmC,UAAUc,QAAV,EAAoB;EACnD;EACA,OAAOA,QAAP;AACH,CAHD,EAGG,UAAUH,KAAV,EAAiB;EAChB,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CALD;AAQA,eAAenB,QAAf"},"metadata":{},"sourceType":"module"}